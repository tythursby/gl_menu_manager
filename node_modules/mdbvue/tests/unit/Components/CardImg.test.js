import { shallowMount } from '@vue/test-utils'
import mdbCardImage from '@/components/Components/CardImg.vue'

describe('Component', () => {
  test('is a Vue instance', () => {
    const wrapper = shallowMount(mdbCardImage, {
      propsData: {
        src: 'https://mdbootstrap.com/img/Photos/Others/images/43.jpg'
      }
    })
    expect(wrapper.isVueInstance()).toBeTruthy()
  })

  test('is img rendered', () => {
    const wrapper = shallowMount(mdbCardImage, {
      propsData: {
        src: 'https://mdbootstrap.com/img/Photos/Others/images/43.jpg'
      }
    })
    expect(wrapper.contains('img')).toBe(true)
    expect(wrapper.find('img').attributes('src')).toBe('https://mdbootstrap.com/img/Photos/Others/images/43.jpg')
  })

  test('are classes correct', () => {
    const wrapper = shallowMount(mdbCardImage, {
      propsData: {
        src: 'https://mdbootstrap.com/img/Photos/Others/images/43.jpg',
        top: true
      }
    })
    expect(wrapper.find('img').classes()).toContain('img-fluid')
    expect(wrapper.find('img').classes()).toContain('card-img-top')
  })

  test('is wave effect working', () => {
    const wrapper = shallowMount(mdbCardImage, {
      propsData: {
        src: 'https://mdbootstrap.com/img/Photos/Others/images/43.jpg',
        waves: true
      }
    })
    expect(wrapper.classes()).toContain('ripple-parent')
    expect(wrapper.contains('div.ripple')).toBe(false)
    wrapper.trigger('click')
    expect(wrapper.contains('div.ripple')).toBe(true)
  })

})